# æ–¹è¨€æ¯”è¾ƒå°ç«™ - åç«¯ API

[![FastAPI](https://img.shields.io/badge/FastAPI-0.116.1-009688?logo=fastapi&logoColor=white)](https://fastapi.tiangolo.com/)
[![Python](https://img.shields.io/badge/Python-3.12+-3776AB?logo=python&logoColor=white)](https://www.python.org/)
[![License](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)

è®¿é—®ç½‘ç«™ï¼š[æ–¹éŸ³åœ–é‘’ - dialects.yzup.top](https://dialects.yzup.top/)

## ğŸ“– é¡¹ç›®æ¦‚è¿°

**æ–¹è¨€æ¯”è¾ƒå°ç«™** æ˜¯ä¸€ä¸ªåŸºäº **FastAPI** çš„é«˜æ€§èƒ½åç«¯ç³»ç»Ÿï¼Œä¸“æ³¨äºæ±‰è¯­æ–¹è¨€æ•°æ®çš„æŸ¥è¯¢ã€åˆ†æå’Œå¯è§†åŒ–ã€‚è¯¥é¡¹ç›®ä¸ºæ–¹è¨€å­¦æœ¯ç ”ç©¶ã€è¯­è¨€å­¦ä¹ å’Œæ–‡åŒ–ä¼ æ‰¿æä¾›å¼ºå¤§çš„æ•°æ®æ”¯æŒå¹³å°ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **éŸ³éŸµæŸ¥è¯¢ç³»ç»Ÿ** - æŒ‰ä¸­å¤åœ°ä½æ•´ç†æ±‰å­—è¯»éŸ³ï¼ŒæŸ¥è¯¢éŸ³ä½çš„ä¸­å¤æ¥æº
- ğŸ“Š **æ•°æ®ç»Ÿè®¡åˆ†æ** - å®Œæ•´çš„ API è°ƒç”¨ç»Ÿè®¡å’Œå…³é”®è¯ä½¿ç”¨åˆ†æ
- ğŸ—ºï¸ **åœ°ç†ä¿¡æ¯æœåŠ¡** - æ–¹è¨€ç‚¹åæ ‡æŸ¥è¯¢ã€åŒºåŸŸåˆ’åˆ†ã€æ‰¹é‡åŒ¹é…
- ğŸ‘¤ **ç”¨æˆ·ç³»ç»Ÿ** - å®Œæ•´çš„ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†ã€æ´»åŠ¨è¿½è¸ª
- ğŸ› ï¸ **å®ç”¨å·¥å…·é›†** - ç²¤æ‹¼è½¬ IPAã€æ•°æ®æ ¡éªŒã€æ–‡ä»¶åˆå¹¶ç­‰ä¸“ä¸šå·¥å…·
- ğŸ’¾ **è‡ªå®šä¹‰æ•°æ®** - ç”¨æˆ·å¯æ·»åŠ å’Œç®¡ç†è‡ªå·±çš„æ–¹è¨€æ•°æ®
- ğŸ“ˆ **æ€§èƒ½ä¼˜åŒ–** - Redis ç¼“å­˜ã€æ•°æ®åº“è¿æ¥æ± ã€GZip å‹ç¼©
- ğŸ” **å®‰å…¨å¯é ** - JWT è®¤è¯ã€æƒé™æ§åˆ¶ã€æ•°æ®åŠ å¯†

## ğŸ”— ç›¸å…³ä»“åº“

- **[é¢„å¤„ç†å­—è¡¨](https://github.com/jengzang/dialects-build)**
  [![dialects-build](https://img.shields.io/badge/Repo-dialects--build-ff69b4?logo=github&logoColor=white&style=for-the-badge)](https://github.com/jengzang/dialects-build)

æ–¹è¨€æ¯”è¾ƒç½‘ç«™çš„æ•°æ®é¢„å¤„ç†ä»“åº“ï¼Œè´Ÿè´£åŸå§‹æ•°æ®çš„æ¸…æ´—ã€è½¬æ¢å’Œä¼˜åŒ–ã€‚

- **[å‰ç«¯ä»£ç ](https://github.com/jengzang/dialects-js-frontend)**
  [![dialects-vue-frontend](https://img.shields.io/badge/Repo-dialects--js--frontend-0088ff?logo=github&logoColor=white&style=for-the-badge)](https://github.com/jengzang/dialects-js-frontend)
  
æ–¹è¨€æ¯”è¾ƒç½‘ç«™çš„å‰ç«¯ä»£ç ï¼ŒåŸºäºVueæ¡†æ¶å’ŒåŸç”ŸJavaScriptï¼Œæä¾›ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ã€‚

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Redis 7.0+ (å¯é€‰ï¼Œç”¨äºç¼“å­˜)
- SQLite 3.35+ (å†…ç½®)

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/jengzang/backend-fastapi.git
cd backend-fastapi
```

### 2. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# Redis é…ç½®ï¼ˆå¯é€‰ï¼‰
REDIS_HOST=localhost
REDIS_PORT=6379

# è¿è¡Œæ¨¡å¼
RUN_TYPE=MINE  # MINE/EXE/PRODUCTION
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼ï¼ˆå•è¿›ç¨‹ï¼‰
python run.py

# ç”Ÿäº§æ¨¡å¼ï¼ˆå¤šè¿›ç¨‹ï¼Œæ¨èï¼‰
gunicorn -c gunicorn_config.py app.main:app
```

æœåŠ¡å¯åŠ¨åè®¿é—®ï¼š
- API æ–‡æ¡£ï¼šhttp://localhost:5000/docs
- å¤‡ç”¨æ–‡æ¡£ï¼šhttp://localhost:5000/redoc

---

## ğŸ“š åŠŸèƒ½æ¨¡å—è¯¦è§£

### 1. éŸ³éŸµæŸ¥è¯¢ç³»ç»Ÿ (`/api/phonology`, `/api/new_pho`)

#### 1.1 æŒ‰ä¸­å¤åœ°ä½æŸ¥è¯¢
æ ¹æ®ä¸­å¤éŸ³éŸµåœ°ä½ï¼ˆå£°æ¯ã€éŸµæ¯ã€å£°è°ƒã€ç­‰å‘¼ï¼‰æŸ¥è¯¢å„æ–¹è¨€ç‚¹çš„è¯»éŸ³ã€‚

**API ç«¯ç‚¹ï¼š**
- `POST /api/phonology` - ä¼ ç»ŸéŸ³éŸµæŸ¥è¯¢
- `POST /api/new_pho` - å¢å¼ºç‰ˆéŸ³éŸµæŸ¥è¯¢ï¼ˆæ”¯æŒéŸ³éŸµåˆ†ç±»çŸ©é˜µï¼‰

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ”¯æŒå¤šæ–¹è¨€ç‚¹åŒæ—¶æŸ¥è¯¢
- âœ… æŒ‰ä¸­å¤éŸ³éŸµåœ°ä½ç²¾ç¡®åŒ¹é…
- âœ… éŸ³éŸµåˆ†ç±»çŸ©é˜µåˆ†æ
- âœ… å£°è°ƒç³»ç»Ÿå¯¹æ¯”
- âœ… ç»“æœå¯è§†åŒ–æ’åˆ—

**ä½¿ç”¨åœºæ™¯ï¼š**
- ç ”ç©¶æŸä¸ªä¸­å¤éŸ³åœ¨ç°ä»£æ–¹è¨€ä¸­çš„æ¼”å˜è§„å¾‹
- å¯¹æ¯”ä¸åŒæ–¹è¨€ç‚¹çš„éŸ³éŸµç³»ç»Ÿ
- æ„å»ºéŸ³éŸµå¯¹åº”å…³ç³»è¡¨

#### 1.2 æŸ¥å­—åŠŸèƒ½ (`/api/search`)
æ ¹æ®æ±‰å­—æŸ¥è¯¢å…¶åœ¨å„æ–¹è¨€ç‚¹çš„è¯»éŸ³ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å•å­—æˆ–å¤šå­—æŸ¥è¯¢
- âœ… ç¹ç®€ä½“è‡ªåŠ¨è½¬æ¢
- âœ… æ”¯æŒåœ°åŒºç­›é€‰
- âœ… æ˜¾ç¤ºéŸ³éŸµæ ‡æ³¨ï¼ˆå£°æ¯ã€éŸµæ¯ã€å£°è°ƒï¼‰
- âœ… IPA éŸ³æ ‡æ˜¾ç¤º

#### 1.3 æŸ¥è°ƒåŠŸèƒ½
æŸ¥è¯¢ç‰¹å®šå£°è°ƒåœ¨å„æ–¹è¨€ç‚¹çš„è¡¨ç°å½¢å¼ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å£°è°ƒå€¼æŸ¥è¯¢
- âœ… å£°è°ƒç±»å‹åˆ†ç±»
- âœ… å£°è°ƒæ¼”å˜åˆ†æ

---

### 2. åœ°ç†ä¿¡æ¯æœåŠ¡ (`/api/geo`)

#### 2.1 è·å–æ–¹è¨€ç‚¹åæ ‡ (`/api/get_coordinates`)
è·å–æ–¹è¨€ç‚¹çš„ç»çº¬åº¦åæ ‡ï¼Œç”¨äºåœ°å›¾å¯è§†åŒ–ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ”¯æŒæ‰¹é‡æŸ¥è¯¢
- âœ… è¿”å›ç²¾ç¡®ç»çº¬åº¦
- âœ… åŒ…å«è¡Œæ”¿åŒºåˆ’ä¿¡æ¯

#### 2.2 åŒºåŸŸæŸ¥è¯¢ (`/api/get_regions`)
è·å–æ–¹è¨€åŒºåŸŸåˆ’åˆ†ä¿¡æ¯ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å¤šçº§åŒºåŸŸåˆ’åˆ†ï¼ˆå¤§åŒºã€å°åŒºï¼‰
- âœ… åŒºåŸŸå†…æ–¹è¨€ç‚¹åˆ—è¡¨
- âœ… åŒºåŸŸç»Ÿè®¡ä¿¡æ¯

#### 2.3 åˆ†åŒºæŸ¥è¯¢ (`/api/get_partitions`)
è·å–æ–¹è¨€åˆ†åŒºä¿¡æ¯ï¼Œæ”¯æŒè‡ªå®šä¹‰åˆ†åŒºæ–¹æ¡ˆã€‚

#### 2.4 æ‰¹é‡åŒ¹é… (`/api/batch_match`)
æ‰¹é‡åŒ¹é…åœ°åä¸æ–¹è¨€ç‚¹ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ¨¡ç³ŠåŒ¹é…
- âœ… å¤šéŸ³å­—å¤„ç†
- âœ… åœ°åæ ‡å‡†åŒ–

#### 2.5 åœ°ç‚¹åˆ—è¡¨ (`/api/get_locs`)
è·å–æ‰€æœ‰å¯ç”¨çš„æ–¹è¨€ç‚¹åˆ—è¡¨ã€‚

---

### 3. ç”¨æˆ·ç³»ç»Ÿ (`/auth`, `/user`)

#### 3.1 ç”¨æˆ·è®¤è¯ (`/auth`)
å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€æƒé™ç®¡ç†ç³»ç»Ÿã€‚

**API ç«¯ç‚¹ï¼š**
- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `POST /auth/logout` - ç”¨æˆ·ç™»å‡º
- `GET /auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /auth/password` - ä¿®æ”¹å¯†ç 

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… JWT Token è®¤è¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
- âœ… Token è‡ªåŠ¨åˆ·æ–°
- âœ… ä¼šè¯ç®¡ç†
- âœ… æƒé™åˆ†çº§ï¼ˆæ™®é€šç”¨æˆ·/ç®¡ç†å‘˜ï¼‰

#### 3.2 ç”¨æˆ·ç®¡ç† (`/user`)
ç”¨æˆ·ä¸ªäººä¿¡æ¯å’Œæ´»åŠ¨ç®¡ç†ã€‚

**API ç«¯ç‚¹ï¼š**
- `GET /user/profile` - è·å–ç”¨æˆ·èµ„æ–™
- `PUT /user/profile` - æ›´æ–°ç”¨æˆ·èµ„æ–™
- `GET /user/activity` - æŸ¥çœ‹ç”¨æˆ·æ´»åŠ¨è®°å½•
- `GET /user/stats` - ç”¨æˆ·ç»Ÿè®¡æ•°æ®

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… ç”¨æˆ·æ´»åŠ¨è¿½è¸ª
- âœ… ä½¿ç”¨ç»Ÿè®¡åˆ†æ
- âœ… ä¸ªæ€§åŒ–è®¾ç½®
- âœ… æ•°æ®å¯¼å‡º

---

### 4. è‡ªå®šä¹‰æ•°æ®ç³»ç»Ÿ (`/api/custom`)

å…è®¸ç”¨æˆ·æ·»åŠ ã€ç®¡ç†è‡ªå·±çš„æ–¹è¨€æ•°æ®ã€‚

#### 4.1 æ•°æ®æäº¤ (`/api/form_submit`)
æäº¤è‡ªå®šä¹‰æ–¹è¨€æ•°æ®ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… è¡¨å•éªŒè¯
- âœ… æ•°æ®æ ¼å¼æ£€æŸ¥
- âœ… æ‰¹é‡å¯¼å…¥ï¼ˆExcelã€CSVï¼‰
- âœ… æ•°æ®é¢„è§ˆ

#### 4.2 è‡ªå®šä¹‰æŸ¥è¯¢ (`/api/custom_query`)
æŸ¥è¯¢ç”¨æˆ·æäº¤çš„è‡ªå®šä¹‰æ•°æ®ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å¤šæ¡ä»¶ç­›é€‰
- âœ… æ•°æ®å¯¼å‡º
- âœ… æƒé™æ§åˆ¶ï¼ˆä»…æŸ¥çœ‹è‡ªå·±çš„æ•°æ®ï¼‰

---

### 5. ç®¡ç†å‘˜ç³»ç»Ÿ (`/admin`)

ç®¡ç†å‘˜ä¸“ç”¨çš„ç³»ç»Ÿç®¡ç†æ¥å£ã€‚

**API ç«¯ç‚¹ï¼š**
- `GET /admin/users` - ç”¨æˆ·åˆ—è¡¨ç®¡ç†
- `PUT /admin/users/{id}` - ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯
- `DELETE /admin/users/{id}` - åˆ é™¤ç”¨æˆ·
- `GET /admin/stats` - ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯
- `POST /admin/maintenance` - ç³»ç»Ÿç»´æŠ¤æ“ä½œ

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… ç”¨æˆ·ç®¡ç†
- âœ… æ•°æ®å®¡æ ¸
- âœ… ç³»ç»Ÿç›‘æ§
- âœ… æ—¥å¿—æŸ¥çœ‹
- âœ… æ•°æ®åº“ç»´æŠ¤

---

### 6. API æ—¥å¿—ç»Ÿè®¡ç³»ç»Ÿ (`/api/logs`)

å®Œæ•´çš„ API è°ƒç”¨ç»Ÿè®¡å’Œåˆ†æåŠŸèƒ½ã€‚è¯¦ç»†æ–‡æ¡£è§ [`app/logs/API_USAGE.md`](app/logs/API_USAGE.md)

#### 6.1 ç»Ÿè®¡æŸ¥è¯¢ï¼ˆå…¬å¼€ï¼‰

**API ç«¯ç‚¹ï¼š**
- `GET /api/logs/keyword/top` - Top å…³é”®è¯ç»Ÿè®¡
- `GET /api/logs/api/usage` - API è°ƒç”¨ç»Ÿè®¡
- `GET /api/logs/keyword/search` - å…³é”®è¯æœç´¢
- `GET /api/logs/stats/summary` - ç»Ÿè®¡æ¦‚è§ˆ
- `GET /api/logs/stats/fields` - å­—æ®µåˆ†å¸ƒç»Ÿè®¡

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å®æ—¶ç»Ÿè®¡æ•°æ®
- âœ… å†å²è¶‹åŠ¿åˆ†æ
- âœ… çƒ­é—¨å…³é”®è¯æ’è¡Œ
- âœ… API ä½¿ç”¨é¢‘ç‡åˆ†æ
- âœ… å¤šç»´åº¦æ•°æ®ç­›é€‰

#### 6.2 ç®¡ç†åŠŸèƒ½ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰

**API ç«¯ç‚¹ï¼š**
- `DELETE /api/logs/cleanup` - æ¸…ç†æ—§æ—¥å¿—
- `POST /api/logs/aggregate` - æ‰‹åŠ¨è§¦å‘ç»Ÿè®¡èšåˆ
- `GET /api/logs/database/size` - æ•°æ®åº“å¤§å°ç›‘æ§

**è‡ªåŠ¨åŒ–ä»»åŠ¡ï¼š**
- ğŸ• æ¯å°æ—¶ç¬¬ 5 åˆ†é’Ÿï¼šè‡ªåŠ¨èšåˆç»Ÿè®¡æ•°æ®
- ğŸ• æ¯å‘¨æ—¥å‡Œæ™¨ 3:00ï¼šè‡ªåŠ¨æ¸…ç† 30 å¤©å‰çš„æ—¥å¿—

---

### 7. å·¥å…·æ¨¡å— (`/api/tools`)

æä¾›ä¸‰ä¸ªä¸“ä¸šçš„è¯­è¨€å­¦å·¥å…· Web ç•Œé¢ã€‚

#### 7.1 Check å·¥å…· (`/api/tools/check`)
æ£€æŸ¥æ–¹è¨€æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ•°æ®æ ¼å¼éªŒè¯
- âœ… éŸ³éŸµç³»ç»Ÿå®Œæ•´æ€§æ£€æŸ¥
- âœ… é‡å¤æ•°æ®æ£€æµ‹
- âœ… å¼‚å¸¸å€¼è¯†åˆ«
- âœ… æ‰¹é‡æ ¡éªŒæŠ¥å‘Š

**ä½¿ç”¨åœºæ™¯ï¼š**
- æ•°æ®å¯¼å…¥å‰çš„è´¨é‡æ£€æŸ¥
- æ•°æ®åº“ç»´æŠ¤å’Œæ¸…ç†
- æ•°æ®è´¨é‡ç›‘æ§

#### 7.2 Jyut2IPA å·¥å…· (`/api/tools/jyut2ipa`)
ç²¤æ‹¼ï¼ˆJyutpingï¼‰è½¬å›½é™…éŸ³æ ‡ï¼ˆIPAï¼‰ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å•ä¸ªæˆ–æ‰¹é‡è½¬æ¢
- âœ… æ”¯æŒå¤šç§ç²¤æ‹¼æ–¹æ¡ˆ
- âœ… è¯¦ç»†çš„éŸ³éŸµæ ‡æ³¨
- âœ… è½¬æ¢å†å²è®°å½•
- âœ… å¯¼å‡ºåŠŸèƒ½

**ä½¿ç”¨åœºæ™¯ï¼š**
- å­¦æœ¯è®ºæ–‡éŸ³æ ‡æ ‡æ³¨
- æ•™å­¦ææ–™åˆ¶ä½œ
- è¯­éŸ³å­¦ç ”ç©¶

#### 7.3 Merge å·¥å…· (`/api/tools/merge`)
åˆå¹¶å¤šä¸ªæ–¹è¨€æ•°æ®æ–‡ä»¶ã€‚

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼ï¼ˆExcelã€CSVã€JSONï¼‰
- âœ… æ™ºèƒ½å»é‡
- âœ… å†²çªæ£€æµ‹å’Œå¤„ç†
- âœ… åˆå¹¶ç­–ç•¥é…ç½®
- âœ… é¢„è§ˆå’Œå›æ»š

**ä½¿ç”¨åœºæ™¯ï¼š**
- æ•´åˆå¤šä¸ªæ•°æ®æº
- æ•°æ®åº“è¿ç§»
- åä½œæ•°æ®æ”¶é›†

---

### 8. SQL ç®¡ç†æ¨¡å— (`/sql`)

æä¾›çµæ´»çš„æ•°æ®åº“ç®¡ç†å’ŒæŸ¥è¯¢æ¥å£ã€‚

**API ç«¯ç‚¹ï¼š**
- `GET /sql/databases` - è·å–æ•°æ®åº“åˆ—è¡¨
- `POST /sql/query` - æ‰§è¡Œ SQL æŸ¥è¯¢
- `GET /sql/tree` - è·å–æ•°æ®åº“ç»“æ„æ ‘
- `GET /sql/tables/{table}` - è·å–è¡¨ç»“æ„

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- âœ… å¤šæ•°æ®åº“æ”¯æŒ
- âœ… å®‰å…¨çš„ SQL æŸ¥è¯¢æ¥å£
- âœ… æŸ¥è¯¢ç»“æœå¯¼å‡º
- âœ… æ•°æ®åº“ç»“æ„å¯è§†åŒ–
- âœ… ç´¢å¼•ç®¡ç†å’Œä¼˜åŒ–

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```plaintext
backend-fastapi/
â”œâ”€â”€ app/                          # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                   # FastAPI åº”ç”¨å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ auth/                     # ç”¨æˆ·è®¤è¯æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ database.py           # è®¤è¯æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ dependencies.py       # è®¤è¯ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ models.py             # ç”¨æˆ·æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ service.py            # è®¤è¯ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ utils.py              # è®¤è¯å·¥å…·å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ custom/                   # è‡ªå®šä¹‰æ•°æ®æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ database.py           # è‡ªå®šä¹‰æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ delete.py             # åˆ é™¤æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ models.py             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ read_custom.py        # è¯»å–æ“ä½œ
â”‚   â”‚   â””â”€â”€ write_submit.py       # å†™å…¥æ“ä½œ
â”‚   â”‚
â”‚   â”œâ”€â”€ logs/                     # æ—¥å¿—ç»Ÿè®¡ç³»ç»Ÿ â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ API_USAGE.md          # æ—¥å¿—ç³»ç»Ÿä½¿ç”¨æ–‡æ¡£
â”‚   â”‚   â”œâ”€â”€ api_logger.py         # API æ—¥å¿—è®°å½•å™¨
â”‚   â”‚   â”œâ”€â”€ database.py           # æ—¥å¿—æ•°æ®åº“æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ logs_stats.py         # ç»Ÿè®¡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ migrate_from_txt.py   # æ—¥å¿—è¿ç§»å·¥å…·
â”‚   â”‚   â”œâ”€â”€ models.py             # æ—¥å¿—æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ scheduler.py          # å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/                   # è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py           # è·¯ç”±æ³¨å†Œ
â”‚   â”‚   â”œâ”€â”€ admin.py              # ç®¡ç†å‘˜è·¯ç”± â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ auth.py               # è®¤è¯è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ batch_match.py        # æ‰¹é‡åŒ¹é…
â”‚   â”‚   â”œâ”€â”€ custom_query.py       # è‡ªå®šä¹‰æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ form_submit.py        # è¡¨å•æäº¤
â”‚   â”‚   â”œâ”€â”€ get_coordinates.py    # åæ ‡æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ get_locs.py           # åœ°ç‚¹åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ get_partitions.py     # åˆ†åŒºæŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ get_regions.py        # åŒºåŸŸæŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ index.py              # é¦–é¡µè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ new_pho.py            # æ–°éŸ³éŸµæŸ¥è¯¢ â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ phonology.py          # éŸ³éŸµæŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ search.py             # æœç´¢åŠŸèƒ½
â”‚   â”‚   â””â”€â”€ user.py               # ç”¨æˆ·è·¯ç”± â­ æ–°å¢
â”‚   â”‚
â”‚   â”œâ”€â”€ schemas/                  # æ•°æ®æ¨¡å‹/æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ admin.py              # ç®¡ç†å‘˜æ¨¡å¼ â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ auth.py               # è®¤è¯æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ form.py               # è¡¨å•æ¨¡å¼
â”‚   â”‚   â”œâ”€â”€ phonology.py          # éŸ³éŸµæ¨¡å¼
â”‚   â”‚   â””â”€â”€ user.py               # ç”¨æˆ·æ¨¡å¼ â­ æ–°å¢
â”‚   â”‚
â”‚   â”œâ”€â”€ service/                  # æœåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ locs_regions.py       # åœ°ç†ä¿¡æ¯æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ match_input_tip.py    # è¾“å…¥æç¤ºåŒ¹é…
â”‚   â”‚   â”œâ”€â”€ new_pho.py            # æ–°éŸ³éŸµæœåŠ¡ â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ phonology2status.py   # éŸ³éŸµçŠ¶æ€è½¬æ¢
â”‚   â”‚   â”œâ”€â”€ phonology_classification_matrix.py  # éŸ³éŸµåˆ†ç±»çŸ©é˜µ â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ process_sp_input.py   # ç‰¹æ®Šè¾“å…¥å¤„ç†
â”‚   â”‚   â”œâ”€â”€ search_chars.py       # å­—ç¬¦æœç´¢
â”‚   â”‚   â”œâ”€â”€ search_tones.py       # å£°è°ƒæœç´¢ â­ æ–°å¢
â”‚   â”‚   â””â”€â”€ status_arrange_pho.py # éŸ³éŸµçŠ¶æ€æ’åˆ—
â”‚   â”‚
â”‚   â”œâ”€â”€ sql/                      # SQL ç®¡ç†æ¨¡å— â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ choose_db.py          # æ•°æ®åº“é€‰æ‹©å™¨
â”‚   â”‚   â”œâ”€â”€ db_pool.py            # æ•°æ®åº“è¿æ¥æ± 
â”‚   â”‚   â”œâ”€â”€ index_manager.py      # ç´¢å¼•ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ sql_routes.py         # SQL æŸ¥è¯¢è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ sql_schemas.py        # SQL æ•°æ®æ¨¡å¼
â”‚   â”‚   â””â”€â”€ sql_tree_routes.py    # æ•°æ®åº“æ ‘ç»“æ„è·¯ç”±
â”‚   â”‚
â”‚   â”œâ”€â”€ tools/                    # å·¥å…·æ¨¡å— â­ æ–°å¢
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ check_core.py         # æ£€æŸ¥å·¥å…·æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ check_routes.py       # æ£€æŸ¥å·¥å…·è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ file_manager.py       # æ–‡ä»¶ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ format_convert.py     # æ ¼å¼è½¬æ¢å·¥å…·
â”‚   â”‚   â”œâ”€â”€ jyut2ipa_core.py      # ç²¤æ‹¼è½¬IPAæ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ jyut2ipa_routes.py    # ç²¤æ‹¼è½¬IPAè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ merge_core.py         # åˆå¹¶å·¥å…·æ ¸å¿ƒ
â”‚   â”‚   â”œâ”€â”€ merge_routes.py       # åˆå¹¶å·¥å…·è·¯ç”±
â”‚   â”‚   â””â”€â”€ task_manager.py       # ä»»åŠ¡ç®¡ç†å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ redis_client.py           # Redis å®¢æˆ·ç«¯ â­ æ–°å¢
â”‚   â””â”€â”€ statics/                  # é™æ€æ–‡ä»¶
â”‚
â”œâ”€â”€ common/                       # é€šç”¨å·¥å…·ç±»
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ constants.py              # å¸¸é‡å®šä¹‰
â”‚   â”œâ”€â”€ getloc_by_name_region.py  # åœ°åæŸ¥è¯¢å·¥å…·
â”‚   â””â”€â”€ s2t.py                    # ç®€ç¹è½¬æ¢å·¥å…·
â”‚
â”œâ”€â”€ data/                         # æ•°æ®æ–‡ä»¶
â”‚   â”œâ”€â”€ auth.db                   # ç”¨æˆ·è®¤è¯æ•°æ®åº“
â”‚   â”œâ”€â”€ characters.db             # æ±‰å­—æ•°æ®åº“
â”‚   â”œâ”€â”€ dialects.db               # æ–¹è¨€æ•°æ®åº“
â”‚   â”œâ”€â”€ logs.db                   # æ—¥å¿—æ•°æ®åº“ â­ æ–°å¢
â”‚   â””â”€â”€ supplements.db            # è¡¥å……æ•°æ®åº“
â”‚
â”œâ”€â”€ logs/                         # æ—¥å¿—æ–‡ä»¶ç›®å½•
â”‚
â”œâ”€â”€ CHANGELOG.md                  # æ›´æ–°æ—¥å¿— â­ æ–°å¢
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ requirements.txt              # Python ä¾èµ–
â”œâ”€â”€ run.py                        # å¯åŠ¨è„šæœ¬
â””â”€â”€ gunicorn_config.py            # Gunicorn é…ç½® â­ æ–°å¢
```

---

## âš™ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **FastAPI 0.116.1** - ç°ä»£åŒ–çš„ Python Web æ¡†æ¶
- **Uvicorn 0.35.0** - ASGI æœåŠ¡å™¨
- **Pydantic 2.11.7** - æ•°æ®éªŒè¯å’Œåºåˆ—åŒ–

### æ•°æ®åº“
- **SQLite 3** - è½»é‡çº§å…³ç³»å‹æ•°æ®åº“
- **SQLAlchemy 2.0.43** - ORM æ¡†æ¶
- **Redis 7.1.0** - ç¼“å­˜å’Œä¼šè¯å­˜å‚¨

### æ•°æ®å¤„ç†
- **Pandas 2.3.2** - æ•°æ®åˆ†æ
- **NumPy 2.3.2** - æ•°å€¼è®¡ç®—
- **OpenCC 1.1.9** - ç®€ç¹è½¬æ¢

### è®¤è¯å’Œå®‰å…¨
- **python-jose 3.5.0** - JWT Token å¤„ç†
- **passlib 1.7.4** - å¯†ç å“ˆå¸Œ
- **bcrypt 3.2.0** - å¯†ç åŠ å¯†

### ä»»åŠ¡è°ƒåº¦
- **APScheduler 3.11.2** - å®šæ—¶ä»»åŠ¡è°ƒåº¦

### æ–‡ä»¶å¤„ç†
- **openpyxl 3.1.5** - Excel æ–‡ä»¶å¤„ç†
- **python-docx 1.2.0** - Word æ–‡æ¡£å¤„ç†
- **xlrd 2.0.1** - Excel è¯»å–

### ç”Ÿäº§éƒ¨ç½²
- **Gunicorn 21.2.0** - WSGI HTTP æœåŠ¡å™¨
- **GZip Middleware** - å“åº”å‹ç¼©

---

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

åˆ›å»º `.env` æ–‡ä»¶é…ç½®ä»¥ä¸‹å‚æ•°ï¼š

```env
# è¿è¡Œæ¨¡å¼
RUN_TYPE=MINE              # MINE(å¼€å‘) / EXE(æ‰“åŒ…) / PRODUCTION(ç”Ÿäº§)

# Redis é…ç½®
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=            # å¯é€‰

# æ•°æ®åº“è·¯å¾„
CHARACTERS_DB_PATH=data/characters.db
DIALECTS_DB_PATH=data/dialects.db
AUTH_DB_PATH=data/auth.db
LOGS_DB_PATH=data/logs.db

# JWT é…ç½®
SECRET_KEY=your-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# æ—¥å¿—é…ç½®
LOG_RETENTION_DAYS=30      # æ—¥å¿—ä¿ç•™å¤©æ•°
LOG_CLEANUP_HOUR=3         # æ¸…ç†ä»»åŠ¡æ‰§è¡Œæ—¶é—´ï¼ˆå°æ—¶ï¼‰
```

### Gunicorn é…ç½®

ç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨ Gunicorn å¤šè¿›ç¨‹éƒ¨ç½²ï¼š

```python
# gunicorn_config.py
bind = "0.0.0.0:5000"
workers = 4                # å·¥ä½œè¿›ç¨‹æ•°ï¼ˆå»ºè®® CPU æ ¸å¿ƒæ•° * 2 + 1ï¼‰
worker_class = "uvicorn.workers.UvicornWorker"
timeout = 120
keepalive = 5
max_requests = 1000        # è‡ªåŠ¨é‡å¯å·¥ä½œè¿›ç¨‹
max_requests_jitter = 100
```

å¯åŠ¨å‘½ä»¤ï¼š
```bash
gunicorn -c gunicorn_config.py app.main:app
```

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®åº“ä¼˜åŒ–
- âœ… SQLite WAL æ¨¡å¼ï¼ˆWrite-Ahead Loggingï¼‰
- âœ… 64MB ç¼“å­˜é…ç½®
- âœ… è‡ªåŠ¨ç´¢å¼•ç®¡ç†å’Œä¼˜åŒ–
- âœ… è¿æ¥æ± å¤ç”¨ï¼ˆå‡å°‘è¿æ¥å¼€é”€ï¼‰

### 2. ç¼“å­˜ç­–ç•¥
- âœ… Redis ç¼“å­˜é«˜é¢‘æŸ¥è¯¢ç»“æœ
- âœ… ä¼šè¯æ•°æ®ç¼“å­˜
- âœ… è‡ªåŠ¨ç¼“å­˜å¤±æ•ˆæœºåˆ¶

### 3. æ‰¹é‡å¤„ç†
- âœ… API æ—¥å¿—æ‰¹é‡å†™å…¥ï¼ˆ50æ¡/æ‰¹ï¼‰
- âœ… ç”¨æˆ·æ´»åŠ¨é˜Ÿåˆ—å†™å…¥
- âœ… å‡å°‘æ•°æ®åº“ I/O å‹åŠ›

### 4. å“åº”å‹ç¼©
- âœ… GZip è‡ªåŠ¨å‹ç¼©ï¼ˆ>1KB çš„å“åº”ï¼‰
- âœ… å‡å°‘ç½‘ç»œä¼ è¾“é‡
- âœ… æå‡å‰ç«¯åŠ è½½é€Ÿåº¦

### 5. å¹¶å‘å¤„ç†
- âœ… å¼‚æ­¥ I/Oï¼ˆFastAPI + Uvicornï¼‰
- âœ… å¤šè¿›ç¨‹éƒ¨ç½²ï¼ˆGunicornï¼‰
- âœ… è¿æ¥æ± ç®¡ç†

---

## ğŸ” å®‰å…¨æ€§

### è®¤è¯å’Œæˆæƒ
- âœ… JWT Token è®¤è¯
- âœ… å¯†ç  bcrypt åŠ å¯†å­˜å‚¨
- âœ… Token è‡ªåŠ¨åˆ·æ–°æœºåˆ¶
- âœ… æƒé™åˆ†çº§æ§åˆ¶

### æ•°æ®å®‰å…¨
- âœ… SQL æ³¨å…¥é˜²æŠ¤ï¼ˆå‚æ•°åŒ–æŸ¥è¯¢ï¼‰
- âœ… XSS é˜²æŠ¤ï¼ˆè¾“å…¥éªŒè¯ï¼‰
- âœ… CORS è·¨åŸŸé…ç½®
- âœ… æ•æ„Ÿæ•°æ®åŠ å¯†

### API å®‰å…¨
- âœ… è¯·æ±‚é¢‘ç‡é™åˆ¶ï¼ˆè®¡åˆ’ä¸­ï¼‰
- âœ… API Key è®¤è¯ï¼ˆè®¡åˆ’ä¸­ï¼‰
- âœ… è¯·æ±‚ç­¾åéªŒè¯ï¼ˆè®¡åˆ’ä¸­ï¼‰

---

## ğŸ“ˆ ç›‘æ§å’Œç»´æŠ¤

### æ—¥å¿—ç³»ç»Ÿ
- ğŸ“Š API è°ƒç”¨ç»Ÿè®¡
- ğŸ“Š å…³é”®è¯ä½¿ç”¨åˆ†æ
- ğŸ“Š é”™è¯¯æ—¥å¿—è¿½è¸ª
- ğŸ“Š æ€§èƒ½ç›‘æ§

### è‡ªåŠ¨åŒ–ä»»åŠ¡
- ğŸ• æ¯å°æ—¶ï¼šç»Ÿè®¡æ•°æ®èšåˆ
- ğŸ• æ¯å‘¨æ—¥ï¼šæ—§æ—¥å¿—æ¸…ç†
- ğŸ• æ¯å°æ—¶ï¼šä¸´æ—¶æ–‡ä»¶æ¸…ç†

### æ•°æ®åº“ç»´æŠ¤
```bash
# æŸ¥çœ‹æ•°æ®åº“å¤§å°
curl http://localhost:5000/api/logs/database/size \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"

# æ¸…ç†æ—§æ—¥å¿—ï¼ˆè¯•è¿è¡Œï¼‰
curl -X DELETE "http://localhost:5000/api/logs/cleanup?days=30&dry_run=true" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"

# æ‰‹åŠ¨è§¦å‘ç»Ÿè®¡èšåˆ
curl -X POST "http://localhost:5000/api/logs/aggregate" \
  -H "Authorization: Bearer YOUR_ADMIN_TOKEN"
```

---

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/

# è¿è¡Œé›†æˆæµ‹è¯•
pytest tests/integration/

# ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=app tests/
```

---

## ğŸ“¦ éƒ¨ç½²

### Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

```dockerfile
# Dockerfile
FROM python:3.12-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

COPY . .

EXPOSE 5000

CMD ["gunicorn", "-c", "gunicorn_config.py", "app.main:app"]
```

```bash
# æ„å»ºé•œåƒ
docker build -t dialects-backend .

# è¿è¡Œå®¹å™¨
docker run -d -p 5000:5000 \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/logs:/app/logs \
  --name dialects-backend \
  dialects-backend
```

### ä¼ ç»Ÿéƒ¨ç½²

```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env

# 3. å¯åŠ¨æœåŠ¡ï¼ˆç”Ÿäº§æ¨¡å¼ï¼‰
gunicorn -c gunicorn_config.py app.main:app

# 4. ä½¿ç”¨ systemd ç®¡ç†æœåŠ¡
sudo cp dialects-backend.service /etc/systemd/system/
sudo systemctl enable dialects-backend
sudo systemctl start dialects-backend
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### å¼€å‘æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ª PEP 8 Python ä»£ç è§„èŒƒ
- ä½¿ç”¨ç±»å‹æ³¨è§£ï¼ˆType Hintsï¼‰
- ç¼–å†™æ¸…æ™°çš„æ–‡æ¡£å­—ç¬¦ä¸²
- æ·»åŠ å¿…è¦çš„å•å…ƒæµ‹è¯•

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ‘¨â€ğŸ’» å¼€å‘è€…

**ä¸ç¾ˆ (jengzang)**

- GitHub: [@jengzang](https://github.com/jengzang)
- Email: jengzang@outlook.com

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œç ”ç©¶è€…ã€‚

ç‰¹åˆ«æ„Ÿè°¢ï¼š
- FastAPI æ¡†æ¶å›¢é˜Ÿ
- èªä¿ã€éŸ³å…¸ã€æ³›ç²µå¤§å…¸
- æ‰€æœ‰æ•°æ®è´¡çŒ®è€…

---

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µï¼šhttps://dialects.yzup.top/
- GitHub Issuesï¼šhttps://github.com/jengzang/backend-fastapi/issues
- é‚®ç®±ï¼šjengzang@outlook.com

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [FastAPI å®˜æ–¹æ–‡æ¡£](https://fastapi.tiangolo.com/)
- [API ä½¿ç”¨æ–‡æ¡£](app/logs/API_USAGE.md)
- [æ›´æ–°æ—¥å¿—](CHANGELOG.md)
- [å‰ç«¯ä»“åº“](https://github.com/jengzang/dialects-js-frontend)
- [æ•°æ®é¢„å¤„ç†ä»“åº“](https://github.com/jengzang/dialects-build)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼**


---

## ğŸ—„ï¸ æ•°æ®åº“ç»“æ„

### æ•°æ®åº“æ–‡ä»¶è¯´æ˜

| æ•°æ®åº“æ–‡ä»¶ | ç”¨é€” | ä¸»è¦è¡¨ |
|-----------|------|--------|
| \ | ç”¨æˆ·è®¤è¯ç³»ç»Ÿ | users, refresh_tokens, user_activity |
| \ | API æ—¥å¿—ç»Ÿè®¡ | api_logs, api_keywords, aggregated_stats |
| \ | æŸ¥è¯¢ç®¡ç†æ•°æ®ï¼ˆç®¡ç†å‘˜ï¼‰ | phonology_data, metadata |
| \ | æŸ¥è¯¢ç”¨æˆ·æ•°æ® | user_queries, custom_data |
| \ | æ–¹è¨€æ•°æ®ï¼ˆç®¡ç†å‘˜ï¼‰ | dialect_points, phonology |
| \ | æ–¹è¨€ç”¨æˆ·æ•°æ® | user_dialects |
| \ | å­—ç¬¦æ•°æ®åº“ | characters, pronunciations |
| \ | è¡¥å……æ•°æ® | additional_data |

### æ ¸å¿ƒè¡¨ç»“æ„ç¤ºä¾‹

#### users è¡¨ï¼ˆç”¨æˆ·è¡¨ï¼‰
---

## ğŸ”§ è¿è¡Œæ¨¡å¼è¯¦è§£

ç³»ç»Ÿæ”¯æŒä¸‰ç§è¿è¡Œæ¨¡å¼ï¼Œé€šè¿‡ \ ç¯å¢ƒå˜é‡æˆ–å‘½ä»¤è¡Œå‚æ•°æ§åˆ¶ã€‚

### 1. WEB æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
- ç¦ç”¨ API æ–‡æ¡£
- ç»‘å®šåˆ°ç¶²ç«™åŸŸåï¼Œç”¨æ–¼æ­£å¼éƒ¨ç½²

### 2. MINE æ¨¡å¼
- ç»‘å®šåˆ° 0.0.0.0ï¼ˆå±€åŸŸç½‘å¯è®¿é—®ï¼‰
- è‡ªåŠ¨è·å–å±€åŸŸç½‘ IP

### 3. EXE æ¨¡å¼
- ç”¨äºæ‰“åŒ…ä¸ºå¯æ‰§è¡Œæ–‡ä»¶
- å•Ÿç”¨ API æ–‡æ¡£ï¼ˆ/docs, /redocï¼‰

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

---

## ğŸ‘¤ ä½œè€…

**ä¸ç¾ˆ (JengZang)**
- GitHub: [@jengzang](https://github.com/jengzang)
- ç½‘ç«™: [æ–¹éŸ³åœ–é‘’](https://dialects.yzup.top/)

---

**æœ€åæ›´æ–°**: 2026-02-05  
**ç‰ˆæœ¬**: 2.0.1
